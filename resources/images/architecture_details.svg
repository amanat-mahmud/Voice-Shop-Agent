<svg viewBox="0 0 1000 700" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f8fafc;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e2e8f0;stop-opacity:1" />
    </linearGradient>
    
    <!-- Arrow marker -->
    <defs>
      <marker id="arrowhead" markerWidth="10" markerHeight="7" 
       refX="9" refY="3.5" orient="auto">
        <polygon points="0 0, 10 3.5, 0 7" fill="#374151" />
      </marker>
    </defs>
  </defs>
  
  <rect width="1000" height="700" fill="url(#bgGradient)"/>
  
  <!-- Title -->
  <text x="500" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#1f2937">E-commerce AI Agent Architecture</text>
  
  <!-- User Input -->
  <rect x="400" y="60" width="200" height="60" rx="10" fill="#3b82f6" stroke="#1e40af" stroke-width="2"/>
  <text x="500" y="85" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">User Input</text>
  <text x="500" y="105" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#dbeafe">ğŸ¤ Voice / ğŸ’¬ Text</text>
  
  <!-- Arrow 1 -->
  <line x1="500" y1="120" x2="500" y2="150" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Semantic Router -->
  <rect x="400" y="150" width="200" height="60" rx="10" fill="#8b5cf6" stroke="#7c3aed" stroke-width="2"/>
  <text x="500" y="175" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Semantic Router</text>
  <text x="500" y="195" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#ddd6fe">ğŸ§  Intent Classification</text>
  
  <!-- Router Arrows -->
  <line x1="450" y1="210" x2="300" y2="250" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="550" y1="210" x2="700" y2="250" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- FAQ Branch Label -->
  <text x="350" y="225" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">FAQ</text>
  
  <!-- Product Branch Label -->
  <text x="650" y="225" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">PRODUCT</text>
  
  <!-- FAQ Branch -->
  
  <!-- FAISS Vector DB -->
  <rect x="150" y="260" width="180" height="60" rx="10" fill="#10b981" stroke="#059669" stroke-width="2"/>
  <text x="240" y="285" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">FAISS Vector DB</text>
  <text x="240" y="305" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#d1fae5">ğŸ” Semantic Search</text>
  
  <!-- FAQ Arrow -->
  <line x1="240" y1="320" x2="240" y2="370" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- FAQ LLM -->
  <rect x="150" y="370" width="180" height="60" rx="10" fill="#f59e0b" stroke="#d97706" stroke-width="2"/>
  <text x="240" y="395" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">LLM Processing</text>
  <text x="240" y="415" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fef3c7">FAQ Context â†’ ğŸ¤– Generate Answer</text>
  
  <!-- Product Branch -->
  
  <!-- SQL Query Generation -->
  <rect x="620" y="260" width="180" height="60" rx="10" fill="#ef4444" stroke="#dc2626" stroke-width="2"/>
  <text x="710" y="285" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">SQL Query Gen</text>
  <text x="710" y="305" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#fecaca">ğŸ”§ LLM â†’ SQL</text>
  
  <!-- SQL Arrow -->
  <line x1="710" y1="320" x2="710" y2="350" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Database -->
  <rect x="620" y="350" width="180" height="60" rx="10" fill="#6366f1" stroke="#4f46e5" stroke-width="2"/>
  <text x="710" y="375" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">SQL Database</text>
  <text x="710" y="395" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#c7d2fe">ğŸ—„ï¸ Execute Query</text>
  
  <!-- Product Processing Arrow -->
  <line x1="710" y1="410" x2="710" y2="440" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Product LLM -->
  <rect x="620" y="440" width="180" height="60" rx="10" fill="#f59e0b" stroke="#d97706" stroke-width="2"/>
  <text x="710" y="465" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">LLM Processing</text>
  <text x="710" y="485" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#fef3c7">Product Data â†’ ğŸ¤– Format Results</text>
  
  <!-- Response Arrows -->
  <line x1="240" y1="430" x2="400" y2="520" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="710" y1="500" x2="600" y2="520" stroke="#374151" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Final Response -->
  <rect x="400" y="520" width="200" height="60" rx="10" fill="#1f2937" stroke="#111827" stroke-width="2"/>
  <text x="500" y="545" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">User Response</text>
  <text x="500" y="565" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#d1d5db">ğŸ“± Formatted Output</text>

  
  <!-- Component Labels -->
  <text x="20" y="350" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#374151" transform="rotate(-90 60 290)">FAQ PIPELINE</text>
  <text x="940" y="450" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#374151" transform="rotate(90 940 360)">PRODUCT PIPELINE</text>

</svg>